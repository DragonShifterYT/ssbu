<div class="container ssbu-module">
  <h1 class="page-title">Stage Comparison</h1>

  <section>
    <p>This tool compares the size of stages of your choice for tournament play. Use this to think about:</p>
    
    <ul>
      <li>What stages generally favor your character or a potential opponent's character.</li>
      <li>Which stages in a specific tourney favor your character or an opponent's character.</li>
      <li>If a new DLC stage could be legal, by comparing it to common legal stages.</li>
    </ul>
    
    <p>Select which stages you want to compare, press <strong>Update</strong> below to see the results. Use the <strong>Graph</strong> / <strong>Text</strong> / <strong>Number</strong> buttons to see different charts of the data.</p>
  </section>

  <ssbu-stage-select [stages]="stageClassifications" [parentEvent$]="selectSubject$.asObservable()" (submitSelection)="getStats($event)"></ssbu-stage-select>
  <div class="card">
    <div class="card-header">
      <h2>Stage Dimensions</h2>
    </div>
    <div class="card-body">
      <ul class="row nav nav-pills">
        <li class="nav-item col-12 col-sm-4">
          <button class="nav-link h-100 align-middle stage-comparator-view-toggle" [class.active]="view == 'graph'" (click)="setView('graph')">Graph</button>
        </li>
        <li class="nav-item col-12 col-sm-4">
          <button class="nav-link h-100 align-middle stage-comparator-view-toggle" [class.active]="view == 'text'" (click)="setView('text')">Text</button>
        </li>
        <li class="nav-item col-12 col-sm-4">
          <button class="nav-link h-100 align-middle stage-comparator-view-toggle" [class.active]="view == 'number'" (click)="setView('number')">Numbers</button>
        </li>
      </ul>
      <ng-container *ngIf="view == 'graph'">
        <ssbu-stage-comparator-graph [stageData]="binnedStageDimensionsSet"></ssbu-stage-comparator-graph>
      </ng-container>
      <ng-container *ngIf="view == 'text'">
        <ssbu-stage-comparator-text-table [stageData]="binnedStageDimensionsSet"></ssbu-stage-comparator-text-table>
      </ng-container>
      <ng-container *ngIf="view == 'number'">
        <ssbu-stage-comparator-number-table [stageData]="binnedStageDimensionsSet"></ssbu-stage-comparator-number-table>
      </ng-container>
    </div>
  </div>
  <div role="region" aria-labelledby="notes-header" class="card">
    <div class="card-header">
      <h2 id="notes-header">Notes</h2>
    </div>
    <div class="card-body">
      <h3>Definitions</h3>

      <p><strong>Blastzone width:</strong> The horizontal distance between the left and right blastzones</p>
      <p><strong>Floor length:</strong> The horizontal distance between the main platform's left and right ledges</p>
      <p><strong>Off-stage distance:</strong> The average horizontal distance between the ledge and the blastzone</p>
      <p><strong>Ceiling height:</strong> The vertical distance between the top blastzone and the average height of the ledges</p>
      <p><strong>Commonly / Rarely legal:</strong> How frequently a stage appeared in <a href="https://www.redbull.com/us-en/pgru-fall-2019" target="_blank">PGRU</a> S-tier and A-tier tournaments during the Fall 2019 and Spring 2020 seasons</p>
      <p>All number values are rounded to the nearest integer.</p>

      <h3>Limitations</h3>

      <p>Not all stages could be represented, due to how this site's code interprets stage data. Example skipped stages include:</p>

      <ul>
        <li>Stages with multiple major stage pieces (e.g. New Pork City, Palutena's Temple)</li>
        <li>Traveling and transforming stages with multiple forms (e.g. Delfino Plaza, Brinstar Depths)</li>
        <li>Run-off stages with no defined ledges (e.g. Boxing Ring, Paper Mario)</li>
      </ul>

      <p>More stages will be added in the future.</p>
    </div>
  </div>
</div>